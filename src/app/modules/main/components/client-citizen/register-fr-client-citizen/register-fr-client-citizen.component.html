<div class="w-full">
    <div class="w-full app-card">
        <div class="py-2 px-6 rounded-xl shadow-sm mx-auto">
            <div class="flex flex-col w-full p-3">
                <div class="flex flex-col items-start text-right w-full">
                    <h1 class="text-4xl font-bold text-gray-800">
                        تعریف مشتری حقیقی خارجی
                    </h1>
                    <div class="flex flex-row-reverse items-center gap-2 mt-2">
                        <p class="text-base text-gray-500">
                            ثبت اطلاعات مشتری خارجی (FR)
                        </p>
                        <span class="material-icons text-gray-500 text-3xl">public</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div
    class="p-4 flex items-center justify-center"
    style="background-color: var(--background); min-height: 70px;"
>
    <div class="grid grid-cols-12 gap-3 md:gap-4 w-full max-w-5xl text-center">
        <div class="col-span-12 md:col-span-4 flex flex-col items-center">
            <label class="mb-1 font-medium">نام و نام خانوادگی:</label>
            <span>{{ fullName }}</span>
        </div>

        <div class="col-span-12 md:col-span-4 flex flex-col items-center">
            <label class="mb-1 font-medium">کد ملی / شناسه:</label>
            <span>{{ nationalCode }}</span>
        </div>

        <div class="col-span-12 md:col-span-4 flex flex-col items-center">
            <label class="mb-1 font-medium">شماره مشتری:</label>
            <span>{{ customerNo }}</span>
        </div>
    </div>
</div>

<mat-tab-group
    class="app-tabs rounded-xl shadow-sm app-card"
    [(selectedIndex)]="selectedIndex"
    (selectedIndexChange)="onTabIndexChange($event)"
    [dynamicHeight]="true"
    animationDuration="200ms"
>
    <mat-tab
        *ngFor="let t of tabs; let i = index; trackBy: trackById"
    >
        <ng-template mat-tab-label>
      <span class="flex items-center gap-2 text-gray-700">
        <mat-icon>
          {{ t.icon }}
        </mat-icon>
        <span>
          {{ t.label }}
        </span>
      </span>
        </ng-template>

        <ng-template matTabContent>
            <ng-container *ngIf="t.cmp as Cmp; else noCmp">
                <ng-container
                    *ngComponentOutlet="Cmp; inputs: t.inputs"
                ></ng-container>
            </ng-container>
            <ng-template #noCmp>
                <div class="p-4 text-slate-400 text-sm">
                    (محتوای تب «{{ t.label }}» — در دست ساخت)
                </div>
            </ng-template>
        </ng-template>
    </mat-tab>
</mat-tab-group>

<div class="app-card p-4 rounded-xl border border-slate-200 mt-3">
    <div
        class="grid grid-cols-12 gap-3 md:gap-4 items-start justify-start"
        dir="ltr"
    >
        <button
            pButton
            label="انصراف"
            severity="danger"
            [outlined]="true"
            type="button"
            class="p-button-secondary col-span-6 md:col-span-1 h-[40px]"
            (click)="onCancel()"
        ></button>

        <button
            pButton
            label="ذخیره"
            severity="success"
            type="button"
            class="p-button-primary col-span-6 md:col-span-1 h-[40px]"
            (click)="onSave()"
        ></button>
    </div>
</div>
