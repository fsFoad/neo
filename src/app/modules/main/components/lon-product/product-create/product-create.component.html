
<div class="p-6 space-y-6 rounded-2xl bg-white border border-slate-200">
    <!-- ๐น ุนููุงู ุตูุญู -->
    <h2 class="text-2xl font-semibold mb-4">ุงุฌุงุฏ ูุญุตูู ุฌุฏุฏ</h2>

    <!-- ๐น ุชุจโูุง -->
    <mat-tab-group
        class="app-tabs rounded-xl shadow-sm bg-white"
        [(selectedIndex)]="selectedIndex"
        [dynamicHeight]="true"
        animationDuration="200ms">

        <!-- ๐น ุญููู ุฏุงูุงูฺฉ ุจุฑุง ุชุจโูุง -->
        <mat-tab *ngFor="let t of tabs; let i = index">
            <!-- ๐ธ ุนููุงู ุชุจ -->
            <ng-template mat-tab-label>
        <span class="flex items-center gap-2 text-gray-700">
          <mat-icon
              [ngClass]="selectedIndex === i ? 'text-primary' : 'text-gray-500'">
            {{ t.icon }}
          </mat-icon>
          <span [ngClass]="selectedIndex === i ? 'text-primary font-bold' : ''">
            {{ t.label }}
          </span>
        </span>
            </ng-template>

            <!-- ๐น ูุญุชูุง ุชุจ -->
            <ng-template matTabContent>
                <div class="p-6">
                    <ng-container *ngIf="i === 0">
                        <div [formGroup]="productForm" class="grid grid-cols-1 md:grid-cols-3 gap-6">

                            <!-- ููุน ุนูุฏ -->
                            <div class="flex flex-col">
                                <label class="mb-1 font-medium">ููุน ุนูุฏ:</label>
                                <p-dropdown class="normal-dropdown"
                                            [options]="contractTypeList"
                                            optionLabel="label"
                                            optionValue="value"
                                            formControlName="contractTypeId"
                                            placeholder="ุงูุชุฎุงุจ ฺฉูุฏ">
                                </p-dropdown>
                            </div>

                            <!-- ููุน ุทุฑุญ -->
                            <div class="flex flex-col">
                                <label class="mb-1 font-medium">ููุน ุทุฑุญ:</label>
                                <p-dropdown class="normal-dropdown"
                                            [options]="planTypeList"
                                            optionLabel="label"
                                            optionValue="value"
                                            formControlName="planTypeId"
                                            placeholder="ุงูุชุฎุงุจ ฺฉูุฏ">
                                </p-dropdown>
                            </div>

                            <!-- ฺฺฏููฺฏ ุงุณุชูุงุฏู -->
                            <div class="flex flex-col">
                                <label class="mb-1 font-medium">ฺฺฏููฺฏ ุงุณุชูุงุฏู:</label>
                                <p-dropdown class="normal-dropdown"
                                            [options]="usageTypeList"
                                            optionLabel="label"
                                            optionValue="value"
                                            formControlName="usageTypeId"
                                            placeholder="ุงูุชุฎุงุจ ฺฉูุฏ">
                                </p-dropdown>
                            </div>
                            <div class="flex flex-col">
                                <label class="mb-1 font-medium">ฺฉุฏ / ุนููุงู ูุญุตูู:</label>
                                <input type="text" pInputText class="normal-input flex-1" formControlName="productCode"
                                       placeholder="ฺฉุฏ ูุญุตูู" readonly>
                            </div>
                            <!-- ุดุฎุตุช ูุดุชุฑ -->
                            <div class="flex flex-col">
                                <label class="mb-1 font-medium">ุดุฎุตุช ูุดุชุฑ:</label>
                                <p-dropdown class="normal-dropdown"
                                            [options]="customerTypeList"
                                            optionLabel="label"
                                            optionValue="value"
                                            formControlName="customerTypeId"
                                            placeholder="ุงูุชุฎุงุจ ฺฉูุฏ">
                                </p-dropdown>
                            </div>

                            <!-- ููุน ุงุฑุฒ -->
                            <div class="flex flex-col">
                                <label class="mb-1 font-medium">ููุน ุงุฑุฒ:</label>
                                <p-dropdown class="normal-dropdown"
                                            [options]="currencyList"
                                            optionLabel="label"
                                            optionValue="value"
                                            formControlName="currencyId"
                                            placeholder="ุงูุชุฎุงุจ ฺฉูุฏ">
                                </p-dropdown>
                            </div>

                            <!-- ฺฉุฏ ู ุนููุงู ูุญุตูู -->


                            <!-- ุญุฏุงฺฉุซุฑ ูุจูุบ ุชุณููุงุช -->
                            <div class="flex flex-col">
                                <label class="mb-1 font-medium">ุญุฏุงฺฉุซุฑ ูุจูุบ ุชุณููุงุช(ุฑุงู):</label>

                                <input pInputText class="normal-input " formControlName="maxFacilityAmount"
                                       placeholder="0">
                            </div>

                            <!-- ูุฏุช ุงุนุชุจุงุฑ ูุตูุจู -->
                            <div class="flex flex-col">
                                <label class="mb-1 font-medium">ูุฏุช ุงุนุชุจุงุฑ ูุตูุจู(ุฑูุฒ):</label>
                                <input pInputText class="normal-input" formControlName="approvalDuration"
                                       placeholder="0">
                            </div>

                            <!-- ุชุนุฏุงุฏ ุถุงูู -->
                            <div class="flex flex-col">
                                <label class="mb-1 font-medium">ุชุนุฏุงุฏ ุถุงูู(ููุฑ):</label>
                                <input pInputText class="normal-input" formControlName="guarantorCount" placeholder="0">
                            </div>

                            <!-- ูุฑุขูุดุฒ -->


                            <!-- ูุงุจูุช ูพุฑุฏุงุฎุช ูุฌุฏุฏ -->
                            <div class="flex flex-col">
                                <label class="mb-1 font-medium">ูุงุจูุช ูพุฑุฏุงุฎุช ูุฌุฏุฏ:</label>
                                <p-dropdown class="normal-dropdown"
                                            [options]="repaymentList"
                                            optionLabel="label"
                                            optionValue="value"
                                            formControlName="repaymentTypeId"
                                            placeholder="ุงูุชุฎุงุจ ฺฉูุฏ">
                                </p-dropdown>
                            </div>

                            <!-- ูุจูุง ูุญุงุณุจู ุฎุณุงุฑุช ุชุงุฎุฑ -->
                            <div class="flex flex-col">
                                <label class="mb-1 font-medium">ูุจูุง ูุญุงุณุจู ุฎุณุงุฑุช ุชุงุฎุฑ:</label>
                                <p-dropdown class="normal-dropdown"
                                            [options]="delayBaseList"
                                            optionLabel="label"
                                            optionValue="value"
                                            formControlName="delayBaseId"
                                            placeholder="ุงูุชุฎุงุจ ฺฉูุฏ">
                                </p-dropdown>
                            </div>
                            <div class="flex flex-col">
                                <label class="mb-1 font-medium">ูุฑุงูุดุฒ:</label>
                                <p-dropdown class="normal-dropdown"
                                            [options]="franchiseList"
                                            optionLabel="label"
                                            optionValue="value"
                                            formControlName="franchiseTypeId"
                                            placeholder="ุงูุชุฎุงุจ ฺฉูุฏ">
                                </p-dropdown>
                            </div>

                            <!-- ูุญุฏูุฏู ุณู ุงุฒ / ุชุง -->
                            <div class="flex flex-col">
                                <label class="mb-1 font-medium">ูุญุฏูุฏู ุณู / ุณุงุจูู ุงุฒ:</label>
                                <input type="number" pInputText class="normal-input flex-1" formControlName="ageFrom"
                                       placeholder="ุณุงู">
                            </div>
                            <div class="flex flex-col">
                                <label class="mb-1 font-medium">ูุญุฏูุฏู ุณู / ุณุงุจูู ุงุฒ:</label>
                                <input type="number" pInputText class="normal-input flex-1" formControlName="ageTo"
                                       placeholder="ุณุงู">
                            </div>

                            <!-- ุงูฺฏู ูุดุฏุงุฑ ุฎูุฏฺฉุงุฑ -->
                            <div class="flex flex-col">
                                <label class="mb-1 font-medium">ุงูฺฏู ูุดุฏุงุฑ ุฎูุฏฺฉุงุฑ:</label>
                                <p-dropdown class="normal-dropdown"
                                            [options]="alertPatternList"
                                            optionLabel="label"
                                            optionValue="value"
                                            formControlName="alertPatternId"
                                            placeholder="ุงูุชุฎุงุจ ฺฉูุฏ">
                                </p-dropdown>
                            </div>

                            <!-- ุชุงุฑุฎ ุดุฑูุน / ุงุฎุชุชุงู -->
                            <div class="flex flex-col">
                                <label class="mb-1 font-medium">ุชุงุฑุฎ ุดุฑูุน:</label>
                                <p-persian-calendar formControlName="startDate"
                                                    class="app-persian-calendar-style"></p-persian-calendar>
                            </div>


                            <div class="flex flex-col">
                                <label class="mb-1 font-medium">ุชุงุฑุฎ ุงุฎุชุชุงู:</label>
                                <p-persian-calendar formControlName="endDate"
                                                    class="app-persian-calendar-style"></p-persian-calendar>
                            </div>

                            <div class="col-span-3 grid grid-cols-1 md:grid-cols-3 gap-6 ">

                                <!-- ุณุชูู ฑ: ุณูฺโูุง -->
                                <div class="flex flex-col gap-4">
                                    <div class="flex items-center gap-3">
                                        <p-inputSwitch formControlName="hasCentralBankCode"></p-inputSwitch>
                                        <label class="text-gray-700 text-sm">ุงูุฒุงู ฺฉุฏ ุงุฎุชุตุงุต ุจุงูฺฉ ูุฑฺฉุฒ</label>
                                    </div>

                                    <div class="flex items-center gap-3">
                                        <p-inputSwitch formControlName="holidayLossCalc"></p-inputSwitch>
                                        <label class="text-gray-700 text-sm">ูุญุงุณุจู ุฎุณุงุฑุช ุชุงุฎุฑ ุฑูุฒ ุชุนุทู</label>
                                    </div>

                                    <div class="flex items-center gap-3">
                                        <p-inputSwitch formControlName="transferable"></p-inputSwitch>
                                        <label class="text-gray-700 text-sm">ูุงุจูุช ุงูุชูุงู ุจู ุดุฎุต ุซุงูุซ</label>
                                    </div>

                                    <div class="flex items-center gap-3">
                                        <p-inputSwitch formControlName="isNew"></p-inputSwitch>
                                        <label class="text-gray-700 text-sm">ุญุฏ ูพุฐุฑ</label>
                                    </div>

                                    <div class="flex items-center gap-3">
                                        <p-inputSwitch formControlName="isActive"></p-inputSwitch>
                                        <label class="text-gray-700 text-sm">ูุถุนุช (ุบุฑูุนุงู)</label>
                                    </div>
                                </div>

                                <!-- ุณุชูู ฒ-ณ: ุชูุถุญุงุช -->
                                <div class="md:col-span-2 flex flex-col">
                                    <label class="mb-1 font-medium">ุชูุถุญุงุช:</label>
                                    <textarea
                                        pInputTextarea
                                        formControlName="description"
                                        rows="5"
                                        class="normal-input"
                                        placeholder="ุชูุถุญุงุช ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ">
    </textarea>
                                </div>


                            </div>
                        </div>
                            <div class="grid grid-cols-12 gap-3 md:gap-4 items-start justify-start " dir="ltr">

                                <button
                                    icon="pi pi-arrow-left"
                                    pButton
                                    label="ุงุฏุงูู"
                                    class=" p-button-success normal-button"
                                ></button>
                                <button
                                    pButton
                                    label="ุงูุตุฑุงู"
                                    severity="danger"
                                    type="button"
                                    class="p-button-secondary col-span-6 md:col-span-1 h-[40px]"
                                ></button>
                            </div>
                    </ng-container>

                    <ng-container *ngIf="i !== 0 && t.cmp">
                        <ng-container *ngComponentOutlet="t.cmp; inputs: t.inputs"></ng-container>
                    </ng-container>
                </div>
            </ng-template>
        </mat-tab>
    </mat-tab-group>
</div>

